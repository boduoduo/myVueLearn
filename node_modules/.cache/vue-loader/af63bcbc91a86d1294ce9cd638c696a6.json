{"remainingRequest":"/Users/boduoduo/Desktop/学习/myVueLearn/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/boduoduo/Desktop/学习/myVueLearn/src/components/player/ListPlayer.vue?vue&type=style&index=0&id=bc6b5266&lang=scss&scoped=true&","dependencies":[{"path":"/Users/boduoduo/Desktop/学习/myVueLearn/src/components/player/ListPlayer.vue","mtime":1585412449028},{"path":"/Users/boduoduo/Desktop/学习/myVueLearn/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/boduoduo/Desktop/学习/myVueLearn/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/boduoduo/Desktop/学习/myVueLearn/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/boduoduo/Desktop/学习/myVueLearn/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/boduoduo/Desktop/学习/myVueLearn/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/boduoduo/Desktop/学习/myVueLearn/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCkBpbXBvcnQgIi4uLy4uL2Fzc2V0cy9jc3MvbWl4aW4iOwpAaW1wb3J0ICIuLi8uLi9hc3NldHMvY3NzL3ZhcmlhYmxlIjsKCi5saXN0LXBsYXllciB7CiAgcG9zaXRpb246IGZpeGVkOwogIGxlZnQ6IDA7CiAgYm90dG9tOiAwOwogIHdpZHRoOiAxMDAlOwogIEBpbmNsdWRlIGJnX3N1Yl9jb2xvcigpOwogIC5wbGF5ZXItdG9wIHsKICAgIHdpZHRoOiAxMDAlOwogICAgaGVpZ2h0OiAxMDBweDsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgLnRvcC1sZWZ0IHsKICAgICAgZGlzcGxheTogZmxleDsKICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgcGFkZGluZy1sZWZ0OiAyMHB4OwogICAgICAubW9kZSB7CiAgICAgICAgd2lkdGg6IDU2cHg7CiAgICAgICAgaGVpZ2h0OiA1NnB4OwogICAgICAgIG1hcmdpbi1yaWdodDogMjBweDsKICAgICAgICAmLmxvb3AgewogICAgICAgICAgQGluY2x1ZGUgYmdfaW1nKCIuLi8uLi9hc3NldHMvaW1hZ2VzL3NtYWxsX2xvb3AiKTsKICAgICAgICB9CiAgICAgICAgJi5vbmUgewogICAgICAgICAgQGluY2x1ZGUgYmdfaW1nKCIuLi8uLi9hc3NldHMvaW1hZ2VzL3NtYWxsX29uZSIpOwogICAgICAgIH0KICAgICAgICAmLnJhbmRvbSB7CiAgICAgICAgICBAaW5jbHVkZSBiZ19pbWcoIi4uLy4uL2Fzc2V0cy9pbWFnZXMvc21hbGxfc2h1ZmZsZSIpOwogICAgICAgIH0KICAgICAgICAKICAgICAgfQogICAgICBwIHsKICAgICAgICBAaW5jbHVkZSBmb250X2NvbG9yKCk7CiAgICAgICAgQGluY2x1ZGUgZm9udF9zaXplKCRmb250X21lZGl1bV9zKTsKICAgICAgfQogICAgfQogICAgLnRvcC1yaWdodCB7CiAgICAgIC5kZWwgewogICAgICAgIHdpZHRoOiA4NHB4OwogICAgICAgIGhlaWdodDogODRweDsKICAgICAgICBAaW5jbHVkZSBiZ19pbWcoIi4uLy4uL2Fzc2V0cy9pbWFnZXMvc21hbGxfZGVsIik7CiAgICAgIH0KICAgIH0KICB9CiAgLnBsYXllci1taWRkbGUgewogICAgICBoZWlnaHQ6IDcwMHB4OwogICAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgICB1bCB7CiAgICAgICAgICAmLmFjdGl2ZSB7CiAgICAgICAgICAgICAgLml0ZW0gewogICAgICAgICAgICAgICAgLml0ZW0tcGxheSB7CiAgICAgICAgICAgICAgICAgICAgQGluY2x1ZGUgYmdfaW1nKCIuLi8uLi9hc3NldHMvaW1hZ2VzL3NtYWxsX3BhdXNlIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICB9CiAgICAuaXRlbSB7CiAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjY2NjOwogICAgICBkaXNwbGF5OiBmbGV4OwogICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgIHBhZGRpbmc6IDAgMjBweDsKICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgICAgaGVpZ2h0OiAxMDBweDsKICAgICAgLml0ZW0tbGVmdCB7CiAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgIC5pdGVtLXBsYXkgewogICAgICAgICAgd2lkdGg6IDU2cHg7CiAgICAgICAgICBoZWlnaHQ6IDU2cHg7CiAgICAgICAgICBAaW5jbHVkZSBiZ19pbWcoIi4uLy4uL2Fzc2V0cy9pbWFnZXMvc21hbGxfcGxheSIpOwogICAgICAgIH0KICAgICAgICBwIHsKICAgICAgICAgIEBpbmNsdWRlIGZvbnRfY29sb3IoKTsKICAgICAgICAgIEBpbmNsdWRlIGZvbnRfc2l6ZSgkZm9udF9tZWRpdW1fcyk7CiAgICAgICAgICBAaW5jbHVkZSBub193cmFwKCk7CiAgICAgICAgICBtYXJnaW4tbGVmdDogMjBweDsKICAgICAgICB9CiAgICAgIH0KICAgICAgLml0ZW0tcmlnaHQgewogICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAuaXRlbS1mYXZvcml0ZSB7CiAgICAgICAgICB3aWR0aDogNTZweDsKICAgICAgICAgIGhlaWdodDogNTZweDsKICAgICAgICAgIEBpbmNsdWRlIGJnX2ltZygiLi4vLi4vYXNzZXRzL2ltYWdlcy9zbWFsbF9mYXZvcml0ZSIpOwogICAgICAgIH0KICAgICAgICAuaXRlbS1kZWwgewogICAgICAgICAgd2lkdGg6IDUycHg7CiAgICAgICAgICBoZWlnaHQ6IDUycHg7CiAgICAgICAgICBtYXJnaW4tbGVmdDogMjBweDsKICAgICAgICAgIEBpbmNsdWRlIGJnX2ltZygiLi4vLi4vYXNzZXRzL2ltYWdlcy9zbWFsbF9jbG9zZSIpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KICAucGxheWVyLWJvdHRvbSB7CiAgICB3aWR0aDogMTAwJTsKICAgIGhlaWdodDogMTAwcHg7CiAgICBsaW5lLWhlaWdodDogMTAwcHg7CiAgICBAaW5jbHVkZSBiZ19jb2xvcigpOwogICAgcCB7CiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgY29sb3I6IHdoaXRlOwogICAgICBAaW5jbHVkZSBmb250X3NpemUoJGZvbnRfbWVkaXVtKTsKICAgIH0KICB9Cn0K"},{"version":3,"sources":["ListPlayer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuJA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ListPlayer.vue","sourceRoot":"src/components/player","sourcesContent":["<template>\n  <transition :css=\"false\" @enter=\"enter\" @leave=\"leave\">\n    <div class=\"list-player\" v-show=\"isShowListPlayer\">\n      <div class=\"player-wrapper\">\n        <div class=\"player-top\">\n          <div class=\"top-left\">\n            <div class=\"mode loop\" @click=\"setMode\" ref=\"mode\"></div>\n            <p>{{modeText}}</p>\n          </div>\n          <div class=\"top-right\">\n            <div class=\"del\" @click=\"delAll\"></div>\n          </div>\n        </div>\n        <div class=\"player-middle\">\n          <ScrollView ref=\"scrollView\">\n            <ul ref=\"play\">\n              <li class=\"item\" v-for=\"(value, index) in songs\" :key=\"value.id\" @click=\"selectMusic(index)\">\n                <div class=\"item-left\">\n                  <div class=\"item-play\" @click.stop=\"play\" v-show=\"currentIndex === index\"></div>\n                  <p>{{value.name}}</p>\n                </div>\n                <div class=\"item-right\">\n                  <div class=\"item-favorite\"></div>\n                  <div class=\"item-del\" @click.stop=\"del(index)\"></div>\n                </div>\n              </li>\n            </ul>\n          </ScrollView>\n        </div>\n        <div class=\"player-bottom\">\n          <p @click=\"hidden\">关闭</p>\n        </div>\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script>\nimport ScrollView from \"../../components/ScrollView\";\nimport { mapActions, mapGetters } from \"vuex\";\nimport mode from '../../store/modeType'\n\nexport default {\n  name: \"ListPlayer\",\n  data() {\n    return {\n      modeText: '顺序播放',\n    };\n  },\n   computed: {\n    ...mapGetters([\n        \"isPlaying\", \n        \"modeType\", \n        'isShowListPlayer', \n        'songs', \n        'currentIndex'\n        ])\n  },\n\n  methods: {\n    ...mapActions([\n        \"setIsPlaying\", \n        \"setModeType\", \n        'setListPlayer', \n        'setDelSong',\n        'setCurrentIndex'\n        ]),\n\n    hidden() {\n      this.setListPlayer(false);\n    },\n    // 入场动画\n    enter(el, done) {\n      Velocity(el, \"transition.slideRightIn\", { duration: 300 }, function() {\n        done();\n      });\n    },\n    // 离开动画\n    leave(el, done) {\n      Velocity(\n        el,\n        \"transition.slideRightOut\",\n        { duration: 300 },\n        function() {\n          done();\n        }\n      );\n    },\n\n    play() {\n      this.setIsPlaying(!this.isPlaying);\n    },\n\n    setMode() {\n      if (this.modeType === mode.loop) {\n        this.setModeType(mode.one);\n      } else if (this.modeType === mode.one) {\n        this.setModeType(mode.random);\n      } else if (this.modeType === mode.random) {\n        this.setModeType(mode.loop);\n      }\n    },\n\n    del(index) {\n      this.setDelSong(index)\n    },\n\n    delAll () {\n       this.setDelSong()\n    },\n\n    selectMusic(index) {\n        this.setCurrentIndex(index)\n    }\n  },\n  components: {\n    ScrollView\n  },\n\n  watch: {\n    isPlaying(newValue, oldValue) {\n      if (newValue) {\n        this.$refs.play.classList.add(\"active\");\n      } else {\n        this.$refs.play.classList.remove(\"active\");\n      }\n    },\n    modeType(newValue, oldValue) {\n      this.$refs.mode.classList.remove(\"loop\");\n      this.$refs.mode.classList.remove(\"one\");\n      this.$refs.mode.classList.remove(\"random\");\n      if (newValue === mode.loop) {\n        this.$refs.mode.classList.add(\"loop\");\n        this.modeText = '循环播放'\n      } else if (newValue === mode.one) {\n        this.$refs.mode.classList.add(\"one\");\n        this.modeText = '单曲循环'\n      } else if (newValue === mode.random) {\n        this.$refs.mode.classList.add(\"random\");\n        this.modeText = '随机播放'\n      }\n    },\n\n    isShowListPlayer(newValue, oldValue) {\n        this.$refs.scrollView.refresh()\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../../assets/css/mixin\";\n@import \"../../assets/css/variable\";\n\n.list-player {\n  position: fixed;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  @include bg_sub_color();\n  .player-top {\n    width: 100%;\n    height: 100px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    .top-left {\n      display: flex;\n      align-items: center;\n      padding-left: 20px;\n      .mode {\n        width: 56px;\n        height: 56px;\n        margin-right: 20px;\n        &.loop {\n          @include bg_img(\"../../assets/images/small_loop\");\n        }\n        &.one {\n          @include bg_img(\"../../assets/images/small_one\");\n        }\n        &.random {\n          @include bg_img(\"../../assets/images/small_shuffle\");\n        }\n        \n      }\n      p {\n        @include font_color();\n        @include font_size($font_medium_s);\n      }\n    }\n    .top-right {\n      .del {\n        width: 84px;\n        height: 84px;\n        @include bg_img(\"../../assets/images/small_del\");\n      }\n    }\n  }\n  .player-middle {\n      height: 700px;\n      overflow: hidden;\n      ul {\n          &.active {\n              .item {\n                .item-play {\n                    @include bg_img(\"../../assets/images/small_pause\");\n                }\n              }\n          }\n      }\n    .item {\n      border-top: 1px solid #ccc;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 0 20px;\n      box-sizing: border-box;\n      height: 100px;\n      .item-left {\n        display: flex;\n        align-items: center;\n        .item-play {\n          width: 56px;\n          height: 56px;\n          @include bg_img(\"../../assets/images/small_play\");\n        }\n        p {\n          @include font_color();\n          @include font_size($font_medium_s);\n          @include no_wrap();\n          margin-left: 20px;\n        }\n      }\n      .item-right {\n        display: flex;\n        align-items: center;\n        .item-favorite {\n          width: 56px;\n          height: 56px;\n          @include bg_img(\"../../assets/images/small_favorite\");\n        }\n        .item-del {\n          width: 52px;\n          height: 52px;\n          margin-left: 20px;\n          @include bg_img(\"../../assets/images/small_close\");\n        }\n      }\n    }\n  }\n  .player-bottom {\n    width: 100%;\n    height: 100px;\n    line-height: 100px;\n    @include bg_color();\n    p {\n      text-align: center;\n      color: white;\n      @include font_size($font_medium);\n    }\n  }\n}\n</style>\n"]}]}