{"remainingRequest":"/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/src/views/Recommend.vue?vue&type=style&index=0&scope=true&lang=scss&","dependencies":[{"path":"/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/src/views/Recommend.vue","mtime":1585560476886},{"path":"/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/node_modules/css-loader/dist/cjs.js","mtime":1584931130604},{"path":"/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1584931133236},{"path":"/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/node_modules/postcss-loader/src/index.js","mtime":1584931132284},{"path":"/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/node_modules/sass-loader/dist/cjs.js","mtime":1584931132739},{"path":"/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/node_modules/cache-loader/dist/cjs.js","mtime":1584931130054},{"path":"/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/node_modules/vue-loader/lib/index.js","mtime":1584931133236}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoucmVjb21tZW5kIHsKICBwb3NpdGlvbjogZml4ZWQ7CiAgdG9wOiAxODRweDsKICBsZWZ0OiAwOwogIHJpZ2h0OiAwOwogIGJvdHRvbTogMDsKICAvLyBvdmVyZmxvdzogaGlkZGVuOwogIC5yZWNvbW1lbmQtd3JhcHBlciB7CiAgICB3aWR0aDogMTAwJTsKICAgIGhlaWdodDogMTAwJTsKICAgIG92ZXJmbG93OiBoaWRkZW47CiAgfQp9Cgoudi1lbnRlciB7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDEwMCUpOwp9Cgoudi1lbnRlci10byB7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDAlKTsKfQoKLnYtZW50ZXItYWN0aXZlIHsKICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4yNXM7Cn0KCi52LWxlYXZlIHsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCUpOwp9Cgoudi1sZWF2ZS10byB7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDEwMCUpOwp9Cgoudi1sZWF2ZS1hY3RpdmUgewogIHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjI1czsKfQo="},{"version":3,"sources":["Recommend.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"Recommend.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"recommend\">\n    <div class=\"recommend-wrapper\">\n      <ScrollView>\n        <div>\n          <Banner :banners=\"banners\"></Banner>\n          <Personalized\n            :personalized=\"personalized\"\n            :type=\"'personalized'\"\n            :title=\"'推荐歌单'\"\n            @select=\"fatherSelectItem\"\n          ></Personalized>\n          <Personalized\n            :personalized=\"albums\"\n            :type=\"'album'\"\n            :title=\"'最新专辑'\"\n            @select=\"fatherSelectItem\"\n          ></Personalized>\n          <SongList :songs=\"songs\"></SongList>\n        </div>\n      </ScrollView>\n    </div>\n\n    <transition>\n      <router-view></router-view>\n    </transition>\n  </div>\n</template>\n\n<script>\nimport {\n  getMyBanner,\n  getPersonalized,\n  getNewestAlbum,\n  getNewestSong\n} from \"../api/index\";\nimport Banner from \"../components/recommend/Banner\";\nimport Personalized from \"../components/recommend/Personalized\";\nimport SongList from \"../components/recommend/SongList\";\nimport ScrollView from \"../components/ScrollView\";\n\nexport default {\n  name: \"Recommend\",\n  data() {\n    return {\n      banners: [],\n      personalized: [],\n      albums: [],\n      songs: []\n    };\n  },\n\n  components: {\n    Banner,\n    Personalized,\n    SongList,\n    ScrollView\n  },\n\n  methods: {\n    fatherSelectItem(id, type) {\n      this.$router.push({\n        path: `/recommend/detail/${id}/${type}`\n      });\n    }\n  },\n\n  created() {\n    // 获取banner\n    getMyBanner()\n      .then(data => {\n        this.banners = data.banners;\n      })\n      .catch(function(error) {\n        console.log(error);\n      });\n    //获取推荐歌单\n    getPersonalized()\n      .then(data => {\n        this.personalized = data.result;\n      })\n      .catch(function(error) {\n        console.log(error);\n      });\n    // 获取最新专辑\n    getNewestAlbum()\n      .then(data => {\n        this.albums = data.albums.splice(0, 6);\n      })\n      .catch(function(error) {\n        console.log(error);\n      });\n    // 最新歌曲\n    getNewestSong()\n      .then(data => {\n        let list = []\n        data.result.forEach(value => {\n          let obj = {}\n          obj.id = value.id\n          obj.name = value.name\n          obj.picUrl = value.picUrl\n          let singer = ''\n          for (let i = 0; i < value.song['artists'].length; i++) {\n            if (i === 0) {\n              singer = value.song['artists'][i].name\n            } else {\n              singer += '-' + value.song['artists'][i].name\n            }\n          }\n          obj.singer = singer\n          list.push(obj)\n        })\n        this.songs = list\n      })\n      .catch(function(error) {\n        console.log(error);\n      });\n  }\n};\n</script>\n\n<style scope lang=\"scss\">\n.recommend {\n  position: fixed;\n  top: 184px;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  // overflow: hidden;\n  .recommend-wrapper {\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n  }\n}\n\n.v-enter {\n  transform: translateX(100%);\n}\n\n.v-enter-to {\n  transform: translateX(0%);\n}\n\n.v-enter-active {\n  transition: transform 0.25s;\n}\n\n.v-leave {\n  transform: translateX(0%);\n}\n\n.v-leave-to {\n  transform: translateX(100%);\n}\n\n.v-leave-active {\n  transition: transform 0.25s;\n}\n</style>\n"]}]}