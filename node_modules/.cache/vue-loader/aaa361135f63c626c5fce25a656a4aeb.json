{"remainingRequest":"/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/src/components/ScrollView.vue?vue&type=style&index=0&id=4bb9a842&scoped=true&lang=css&","dependencies":[{"path":"/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/src/components/ScrollView.vue","mtime":1585565177967},{"path":"/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/node_modules/css-loader/dist/cjs.js","mtime":1584931130604},{"path":"/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1584931133236},{"path":"/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/node_modules/postcss-loader/src/index.js","mtime":1584931132284},{"path":"/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/node_modules/cache-loader/dist/cjs.js","mtime":1584931130054},{"path":"/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/node_modules/vue-loader/lib/index.js","mtime":1584931133236}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCiN3cmFwcGVyIHsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDEwMCU7CiAgb3ZlcmZsb3c6IGhpZGRlbjsKfQo="},{"version":3,"sources":["ScrollView.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6DA;AACA;AACA;AACA;AACA","file":"ScrollView.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div id=\"wrapper\" ref=\"wrapper\">\n    <slot></slot>\n  </div>\n</template>\n\n<script>\nimport IScroll from \"iscroll/build/iscroll-probe\";\nexport default {\n  name: \"ScrollView\",\n  mounted() {\n    this.iscroll = new IScroll(this.$refs.wrapper, {\n      mouseWheel: true,\n      scrollbars: false,\n      probeType: 3,\n      // 解决拖拽卡顿的问题\n      scrollX: false,\n      scrollY: true,\n      disablePointer: true,\n      disableTouch: false,\n      disableMouse: true\n    });\n    setTimeout(() => {\n      this.iscroll.refresh();\n    }, 5000);\n    // 创建观察者\n    let observer = new MutationObserver((mutationList, observer) => {\n      this.iscroll.refresh();\n    });\n    // 告诉观察者观察哪些对象\n    let config = {\n      childList: true, // 观察目标子节点的变化，添加或者删除\n      subtree: true, // 默认为false，设置为true， 可以观察后代节点\n      attributeFilter: [\"height\", \"offsetHeight\"] //观察特定属性\n    };\n    // 监听那个节点\n    observer.observe(this.$refs.wrapper, config);\n  },\n\n  methods: {\n    // 监听scrollView的滚动事件，给外界使用\n    scrolling (fn) {\n      this.iscroll.on('scroll', function () {\n        fn(this.y)\n      })\n    },\n    \n    refresh () {\n      setTimeout(() => {\n        this.iscroll.refresh()\n      }, 500);\n    },\n\n    scrollTo(x, y, time) {\n      this.iscroll.scrollTo(x, y, time)\n    }\n  },\n};\n</script>\n\n<style scoped>\n#wrapper {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n}\n</style>"]}]}