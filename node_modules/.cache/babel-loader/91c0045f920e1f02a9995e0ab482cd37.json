{"remainingRequest":"/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/node_modules/babel-loader/lib/index.js!/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/src/views/Singer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/src/views/Singer.vue","mtime":1585652041215},{"path":"/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/node_modules/cache-loader/dist/cjs.js","mtime":1584931130054},{"path":"/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/node_modules/babel-loader/lib/index.js","mtime":1584931129970},{"path":"/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/node_modules/cache-loader/dist/cjs.js","mtime":1584931130054},{"path":"/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/node_modules/vue-loader/lib/index.js","mtime":1584931133236}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBnZXRBbGxBcnRpc3RzIH0gZnJvbSAiLi4vYXBpL2luZGV4IjsKaW1wb3J0IFNjcm9sbFZpZXcgZnJvbSAiLi4vY29tcG9uZW50cy9TY3JvbGxWaWV3IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJTaW5nZXIiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBrZXlzOiBbXSwKICAgICAgbGlzdDogW10sCiAgICAgIGdyb3VwVG9wczogW10sCiAgICAgIC8vIOW9k+WJjemAieS4reeahOWtl+avjeW6j+WPtwogICAgICBjdXJyZW50SW5kZXg6IDAKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBTY3JvbGxWaWV3OiBTY3JvbGxWaWV3CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICBnZXRBbGxBcnRpc3RzKCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgIF90aGlzLmtleXMgPSByZXN1bHQua2V5czsKICAgICAgX3RoaXMubGlzdCA9IHJlc3VsdC5saXN0OwogICAgfSlbImNhdGNoIl0oZnVuY3Rpb24gKGVycikgewogICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBrZXlEb3duOiBmdW5jdGlvbiBrZXlEb3duKGluZGV4KSB7CiAgICAgIHZhciBvZmZzZXRZID0gdGhpcy5ncm91cFRvcHNbaW5kZXhdOwogICAgICB0aGlzLiRyZWZzLnNjcm9sbFZpZXcuc2Nyb2xsVG8oMCwgLW9mZnNldFksIDIwMCk7CiAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gaW5kZXg7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgbGlzdDogZnVuY3Rpb24gbGlzdChuZXdWYWx1ZSwgb2xkVmFsdWUpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAvLyB3YXRjaCDlj6rog73nm5HlkKzlsZ7mgKflgLzlj5jljJbvvIzkuI3og73nm5HlkKzpobXpnaLmmK/lkKblt7Lnu4/muLLmn5PlrozmiJDvvIzpnIDopoHlnKhuZXh0VGlja++8jOaJjeiDveaNleaNieWIsOmhtemdoueahOa4suafk+e7k+aenAogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLiRyZWZzLmdyb3VwLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIF90aGlzMi5ncm91cFRvcHMucHVzaChpdGVtLm9mZnNldFRvcCk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Singer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA,SAAA,aAAA,QAAA,cAAA;AACA,OAAA,UAAA,MAAA,0BAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,IAAA,EAAA,EAFA;AAGA,MAAA,SAAA,EAAA,EAHA;AAIA;AACA,MAAA,YAAA,EAAA;AALA,KAAA;AAOA,GAVA;AAWA,EAAA,UAAA,EAAA;AACA,IAAA,UAAA,EAAA;AADA,GAXA;AAcA,EAAA,OAdA,qBAcA;AAAA;;AACA,IAAA,aAAA,GACA,IADA,CACA,UAAA,MAAA,EAAA;AACA,MAAA,KAAA,CAAA,IAAA,GAAA,MAAA,CAAA,IAAA;AACA,MAAA,KAAA,CAAA,IAAA,GAAA,MAAA,CAAA,IAAA;AACA,KAJA,WAKA,UAAA,GAAA,EAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,KAPA;AAQA,GAvBA;AAyBA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,mBACA,KADA,EACA;AACA,UAAA,OAAA,GAAA,KAAA,SAAA,CAAA,KAAA,CAAA;AACA,WAAA,KAAA,CAAA,UAAA,CAAA,QAAA,CAAA,CAAA,EAAA,CAAA,OAAA,EAAA,GAAA;AACA,WAAA,YAAA,GAAA,KAAA;AACA;AALA,GAzBA;AAiCA,EAAA,KAAA,EAAA;AACA,IAAA,IADA,gBACA,QADA,EACA,QADA,EACA;AAAA;;AACA;AACA,WAAA,SAAA,CAAA,YAAA;AACA,QAAA,MAAA,CAAA,KAAA,CAAA,KAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,UAAA,MAAA,CAAA,SAAA,CAAA,IAAA,CAAA,IAAA,CAAA,SAAA;AACA,SAFA;AAGA,OAJA;AAKA;AARA;AAjCA,CAAA","sourcesContent":["<template>\n  <div class=\"singer\">\n    <ScrollView ref=\"scrollView\">\n      <ul class=\"list-warpper\">\n        <li\n          class=\"list-group\"\n          v-for=\"(value, index) in keys\"\n          :key=\"index\"\n          ref=\"group\"\n        >\n          <h3 class=\"group-title\">{{ value }}</h3>\n          <ul>\n            <li class=\"group-item\" v-for=\"obj in list[index]\" :key=\"obj.id\">\n              <img v-lazy=\"obj.img1v1Url\" alt=\"\" />\n              <p>{{ obj.name }}</p>\n            </li>\n          </ul>\n        </li>\n      </ul>\n    </ScrollView>\n    <ul class=\"list-key\">\n      <li\n        v-for=\"(value, index) in keys\"\n        :key=\"index\"\n        @click=\"keyDown(index)\"\n        :class=\"{ active: currentIndex === index }\"\n      >\n        {{ value }}\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport { getAllArtists } from \"../api/index\";\nimport ScrollView from \"../components/ScrollView\";\n\nexport default {\n  name: \"Singer\",\n  data() {\n    return {\n      keys: [],\n      list: [],\n      groupTops: [],\n      // 当前选中的字母序号\n      currentIndex: 0\n    };\n  },\n  components: {\n    ScrollView\n  },\n  mounted() {\n    getAllArtists()\n      .then(result => {\n        this.keys = result.keys;\n        this.list = result.list;\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  },\n\n  methods: {\n    keyDown(index) {\n      let offsetY = this.groupTops[index];\n      this.$refs.scrollView.scrollTo(0, -offsetY, 200);\n      this.currentIndex = index;\n    }\n  },\n\n  watch: {\n    list(newValue, oldValue) {\n      // watch 只能监听属性值变化，不能监听页面是否已经渲染完成，需要在nextTick，才能捕捉到页面的渲染结果\n      this.$nextTick(() => {\n        this.$refs.group.forEach(item => {\n          this.groupTops.push(item.offsetTop);\n        });\n      });\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../assets/css/variable\";\n@import \"../assets/css/mixin\";\n\n.singer {\n  position: fixed;\n  left: 0;\n  top: 184px;\n  bottom: 0;\n  right: 0;\n  overflow: hidden;\n  @include bg_sub_color();\n  .list-warpper {\n    .list-group {\n      .group-title {\n        @include bg_color();\n        @include font_size($font_medium);\n        padding: 10px 20px;\n        box-sizing: border-box;\n        color: white;\n      }\n      .group-item {\n        display: flex;\n        justify-content: flex-start;\n        border-bottom: 1px solid #ccc;\n        padding: 10px 20px;\n        img {\n          width: 100px;\n          height: 100px;\n          border-radius: 50%;\n          overflow: hidden;\n        }\n        p {\n          display: flex;\n          align-items: center;\n          margin-left: 20px;\n          @include font_color();\n          @include font_size($font_medium);\n        }\n      }\n    }\n  }\n\n  .list-key {\n    position: fixed;\n    right: 0;\n    top: 60%;\n    transform: translateY(-60%);\n    li {\n      @include font_size($font_medium_s);\n      @include font_color();\n      padding: 2px 2px;\n      &.active {\n        text-shadow: 0 0 10px #000;\n      }\n    }\n  }\n}\n</style>\n"],"sourceRoot":"src/views"}]}