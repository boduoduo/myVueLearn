{"remainingRequest":"/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/node_modules/babel-loader/lib/index.js!/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/src/views/Search.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/src/views/Search.vue","mtime":1586259476968},{"path":"/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/node_modules/cache-loader/dist/cjs.js","mtime":1584931130054},{"path":"/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/node_modules/babel-loader/lib/index.js","mtime":1584931129970},{"path":"/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/node_modules/cache-loader/dist/cjs.js","mtime":1584931130054},{"path":"/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/node_modules/vue-loader/lib/index.js","mtime":1584931133236}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnRpbWVycyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBTY3JvbGxWaWV3IGZyb20gIi4uL2NvbXBvbmVudHMvU2Nyb2xsVmlldyI7CmltcG9ydCB7IGdldFNlYXJjaExpc3QgfSBmcm9tICIuLi9hcGkvaW5kZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlNlYXJjaCIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGtleXdvcmRzOiAiIiwKICAgICAgc29uZ3M6IFtdCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgU2Nyb2xsVmlldzogU2Nyb2xsVmlldwogIH0sCiAgbWV0aG9kczogewogICAgc2VhcmNoOiBmdW5jdGlvbiBzZWFyY2goKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGhpcy5rZXl3b3JkcyA9PT0gIiIpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGdldFNlYXJjaExpc3QoewogICAgICAgICdrZXl3b3Jkcyc6IHRoaXMua2V5d29yZHMKICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIF90aGlzLnNvbmdzID0gZGF0YS5yZXN1bHQuc29uZ3M7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgIH0pOwogICAgfQogIH0sCiAgLy8g6Ieq5a6a5LmJ5oyH5LukCiAgZGlyZWN0aXZlczogewogICAgdGhyb3R0bGU6IHsKICAgICAgaW5zZXJ0ZWQ6IGZ1bmN0aW9uIGluc2VydGVkKGVsLCBvYmopIHsKICAgICAgICB2YXIgdGltZXJJZCA9IG51bGw7CiAgICAgICAgdmFyIGZsYWcgPSB0cnVlOwogICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoImlucHV0IiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKCFmbGFnKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICBmbGFnID0gZmFsc2U7CiAgICAgICAgICB0aW1lcklkICYmIGNsZWFyVGltZW91dCh0aW1lcklkKTsKICAgICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgZmxhZyA9IHRydWU7CiAgICAgICAgICAgIG9iai52YWx1ZSgpOwogICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["Search.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA,OAAA,UAAA,MAAA,0BAAA;AACA,SAAA,aAAA,QAAA,cAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,KAAA,EAAA;AAFA,KAAA;AAIA,GAPA;AASA,EAAA,UAAA,EAAA;AACA,IAAA,UAAA,EAAA;AADA,GATA;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AAAA;;AACA,UAAA,KAAA,QAAA,KAAA,EAAA,EAAA;AACA;AACA;;AACA,MAAA,aAAA,CAAA;AAAA,oBAAA,KAAA;AAAA,OAAA,CAAA,CACA,IADA,CACA,UAAA,IAAA,EAAA;AACA,QAAA,KAAA,CAAA,KAAA,GAAA,IAAA,CAAA,MAAA,CAAA,KAAA;AACA,OAHA,EAIA,IAJA,CAIA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,OANA;AAOA;AAZA,GAbA;AA4BA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,QAAA,EAAA;AACA,MAAA,QAAA,EAAA,kBAAA,EAAA,EAAA,GAAA,EAAA;AACA,YAAA,OAAA,GAAA,IAAA;AACA,YAAA,IAAA,GAAA,IAAA;AACA,QAAA,EAAA,CAAA,gBAAA,CAAA,OAAA,EAAA,YAAA;AACA,cAAA,CAAA,IAAA,EAAA;AACA;AACA;;AACA,UAAA,IAAA,GAAA,KAAA;AACA,UAAA,OAAA,IAAA,YAAA,CAAA,OAAA,CAAA;AACA,UAAA,OAAA,GAAA,UAAA,CAAA,YAAA;AACA,YAAA,IAAA,GAAA,IAAA;AACA,YAAA,GAAA,CAAA,KAAA;AACA,WAHA,EAGA,IAHA,CAAA;AAIA,SAVA;AAWA;AAfA;AADA;AA7BA,CAAA","sourcesContent":["<template>\n  <div class=\"search\">\n    <div class=\"search-box\">\n      <img\n        src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNiAyNiI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsPSIjYzljOWNhIiBkPSJNMjUuMTgxIDIzLjUzNWwtMS40MTQgMS40MTQtNy4zMTUtNy4zMTRBOS45NjYgOS45NjYgMCAwIDEgMTAgMjBDNC40NzcgMjAgMCAxNS41MjMgMCAxMFM0LjQ3NyAwIDEwIDBzMTAgNC40NzcgMTAgMTBjMCAyLjM0Mi0uODExIDQuNDktMi4xNiA2LjE5NWw3LjM0MSA3LjM0ek0xMCAyYTggOCAwIDEgMCAwIDE2IDggOCAwIDAgMCAwLTE2eiIvPjwvc3ZnPg==\"\n        alt=\"\"\n      />\n      <input\n        type=\"text\"\n        placeholder=\"搜索歌曲、歌手、专辑\"\n        v-model=\"keywords\"\n        v-throttle=\"search\"\n      />\n    </div>\n    <div class=\"search-suggest\" v-show=\"keywords !== ''\">\n      <ScrollView>\n        <ul>\n          <li v-for=\"value in songs\" :key=\"value.id\">\n            <img\n              src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNiAyNiI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsPSIjYzljOWNhIiBkPSJNMjUuMTgxIDIzLjUzNWwtMS40MTQgMS40MTQtNy4zMTUtNy4zMTRBOS45NjYgOS45NjYgMCAwIDEgMTAgMjBDNC40NzcgMjAgMCAxNS41MjMgMCAxMFM0LjQ3NyAwIDEwIDBzMTAgNC40NzcgMTAgMTBjMCAyLjM0Mi0uODExIDQuNDktMi4xNiA2LjE5NWw3LjM0MSA3LjM0ek0xMCAyYTggOCAwIDEgMCAwIDE2IDggOCAwIDAgMCAwLTE2eiIvPjwvc3ZnPg==\"\n              alt=\"\"\n            />\n            <p>{{ value.name }} - {{ value.artist[0].name }}</p>\n          </li>\n        </ul>\n      </ScrollView>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ScrollView from \"../components/ScrollView\";\nimport { getSearchList } from \"../api/index\";\n\nexport default {\n  name: \"Search\",\n  data() {\n    return {\n      keywords: \"\",\n      songs: []\n    };\n  },\n\n  components: {\n    ScrollView\n  },\n\n  methods: {\n    search() {\n      if (this.keywords === \"\") {\n        return;\n      }\n      getSearchList({ 'keywords': this.keywords })\n        .then(data => {\n          this.songs = data.result.songs;\n        })\n        .then(err => {\n          console.log(err);\n        });\n    }\n  },\n\n  // 自定义指令\n  directives: {\n    throttle: {\n      inserted: function(el, obj) {\n        let timerId = null;\n        let flag = true;\n        el.addEventListener(\"input\", function() {\n          if (!flag) {\n            return;\n          }\n          flag = false;\n          timerId && clearTimeout(timerId);\n          timerId = setTimeout(() => {\n            flag = true;\n            obj.value();\n          }, 1000);\n        });\n      }\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../assets/css/mixin\";\n@import \"../assets/css/variable\";\n.search {\n  position: fixed;\n  left: 0;\n  top: 184px;\n  bottom: 0;\n  right: 0;\n  @include bg_sub_color();\n  .search-box {\n    display: flex;\n    align-items: center;\n    margin: 40px 20px;\n    background-color: #ebecec;\n    border-radius: 30px;\n    img {\n      width: 40px;\n      height: 40px;\n      margin-left: 20px;\n    }\n    input {\n      border: none;\n      outline: none;\n      background: transparent;\n      @include font_size($font_medium);\n      height: 60px;\n      margin-left: 20px;\n    }\n  }\n  .search-suggest {\n    position: fixed;\n    left: 0;\n    top: 300px;\n    right: 0;\n    bottom: 0;\n    overflow: hidden;\n    li {\n      display: flex;\n      align-items: center;\n      padding: 20px;\n      box-sizing: border-box;\n      border-bottom: 1px solid #ccc;\n      img {\n        width: 40px;\n        height: 40px;\n      }\n      p {\n        margin-left: 20px;\n        @include font_color();\n        @include font_size($font_medium);\n      }\n    }\n  }\n}\n</style>\n"],"sourceRoot":"src/views"}]}