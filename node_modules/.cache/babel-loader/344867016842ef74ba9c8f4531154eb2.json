{"remainingRequest":"/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/node_modules/babel-loader/lib/index.js!/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/src/views/Singer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/src/views/Singer.vue","mtime":1587553874756},{"path":"/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/node_modules/cache-loader/dist/cjs.js","mtime":1584931130054},{"path":"/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/node_modules/babel-loader/lib/index.js","mtime":1584931129970},{"path":"/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/node_modules/cache-loader/dist/cjs.js","mtime":1584931130054},{"path":"/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/node_modules/vue-loader/lib/index.js","mtime":1584931133236}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucGFyc2UtaW50IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBnZXRBbGxBcnRpc3RzIH0gZnJvbSAiLi4vYXBpL2luZGV4IjsKaW1wb3J0IFNjcm9sbFZpZXcgZnJvbSAiLi4vY29tcG9uZW50cy9TY3JvbGxWaWV3IjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlNpbmdlciIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGtleXM6IFtdLAogICAgICBsaXN0OiBbXSwKICAgICAgZ3JvdXBUb3BzOiBbXSwKICAgICAgLy8g5b2T5YmN6YCJ5Lit55qE5a2X5q+N5bqP5Y+3CiAgICAgIGN1cnJlbnRJbmRleDogMCwKICAgICAgYmVnaW5PZmZzZXRZOiAwLAogICAgICBtb3ZlT2Zmc2V0WTogMCwKICAgICAgc2Nyb2xsWTogMCwKICAgICAgLy8g5b2T5YmN5rua5Yqo55qE5YGP56e75L2NCiAgICAgIGZpeFRpdGxlSGVpZ2h0OiAwCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgU2Nyb2xsVmlldzogU2Nyb2xsVmlldwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgVnVlLnNob3dMb2FkaW5nKCk7CiAgICBnZXRBbGxBcnRpc3RzKCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgIFZ1ZS5oaWRkZW5Mb2FkaW5nKCk7CiAgICAgIF90aGlzLmtleXMgPSByZXN1bHQua2V5czsKICAgICAgX3RoaXMubGlzdCA9IHJlc3VsdC5saXN0OwogICAgfSlbImNhdGNoIl0oZnVuY3Rpb24gKGVycikgewogICAgICBWdWUuaGlkZGVuTG9hZGluZygpOwogICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgfSk7CiAgfSwKICBjb21wdXRlZDogewogICAgZml4VGl0bGU6IGZ1bmN0aW9uIGZpeFRpdGxlKCkgewogICAgICBpZiAodGhpcy5zY3JvbGxZID49IDApIHsKICAgICAgICByZXR1cm4gJyc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHRoaXMua2V5c1t0aGlzLmN1cnJlbnRJbmRleF07CiAgICAgIH0KICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICB0aGlzLiRyZWZzLnNjcm9sbFZpZXcuc2Nyb2xsaW5nKGZ1bmN0aW9uICh5KSB7CiAgICAgIF90aGlzMi5zY3JvbGxZID0geTsKCiAgICAgIGlmICh5ID49IDApIHsKICAgICAgICBfdGhpczIuY3VycmVudEluZGV4ID0gMDsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX3RoaXMyLmdyb3VwVG9wcy5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBwcmVUb3AgPSBfdGhpczIuZ3JvdXBUb3BzW2ldOwogICAgICAgIHZhciBuZXh0VG9wID0gX3RoaXMyLmdyb3VwVG9wc1tpICsgMV07CgogICAgICAgIGlmICgteSA+IHByZVRvcCAmJiAteSA8PSBuZXh0VG9wKSB7CiAgICAgICAgICBfdGhpczIuY3VycmVudEluZGV4ID0gaTsgLy8g55So5LiL5LiA57uE5qCH6aKY55qE5YGP56e75L2NICsg5b2T5YmN5rua5Ye65Y6755qE5YGP56e75L2NCgogICAgICAgICAgdmFyIGRpZmZPZmZzZXRZID0gbmV4dFRvcCArIHk7CiAgICAgICAgICB2YXIgZml4VGl0bGVPZmZzZXRZID0gMDsKCiAgICAgICAgICBpZiAoZGlmZk9mZnNldFkgPiAwICYmIGRpZmZPZmZzZXRZIDw9IF90aGlzMi5maXhUaXRsZUhlaWdodCkgewogICAgICAgICAgICBmaXhUaXRsZU9mZnNldFkgPSBkaWZmT2Zmc2V0WSAtIF90aGlzMi5maXhUaXRsZUhlaWdodDsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGZpeFRpdGxlT2Zmc2V0WSA9IDA7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGZpeFRpdGxlT2Zmc2V0WSA9PT0gX3RoaXMyLmZpeFRpdGxlT2Zmc2V0WSkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXMyLmZpeFRpdGxlT2Zmc2V0WSA9IGZpeFRpdGxlT2Zmc2V0WTsKICAgICAgICAgIF90aGlzMi4kcmVmcy5maXhUaXRsZS5zdHlsZS50cmFuc2Zvcm0gPSAidHJhbnNsYXRlWSgiLmNvbmNhdChmaXhUaXRsZU9mZnNldFksICJweCkiKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0gLy8g5aSE55CG5pyA5ZCO5LiA5Liq5Yy65Z+fCgoKICAgICAgX3RoaXMyLmN1cnJlbnRJbmRleCA9IF90aGlzMi5ncm91cFRvcHMubGVuZ3RoIC0gMTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgX2tleURvd246IGZ1bmN0aW9uIF9rZXlEb3duKGluZGV4KSB7CiAgICAgIHZhciBvZmZzZXRZID0gdGhpcy5ncm91cFRvcHNbaW5kZXhdOwogICAgICB0aGlzLiRyZWZzLnNjcm9sbFZpZXcuc2Nyb2xsVG8oMCwgLW9mZnNldFksIDIwMCk7CiAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gaW5kZXg7CiAgICB9LAogICAgdG91Y2hzdGFydDogZnVuY3Rpb24gdG91Y2hzdGFydChlKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKGUudGFyZ2V0LmRhdGFzZXQuaW5kZXgpOwogICAgICB2YXIgaW5kZXggPSBwYXJzZUludChlLnRhcmdldC5kYXRhc2V0LmluZGV4KTsKCiAgICAgIHRoaXMuX2tleURvd24oaW5kZXgpOwoKICAgICAgdGhpcy5iZWdpbk9mZnNldFkgPSBlLnRvdWNoZXNbMF0ucGFnZVk7CiAgICB9LAogICAgdG91Y2htb3ZlOiBmdW5jdGlvbiB0b3VjaG1vdmUoZSkgewogICAgICB0aGlzLm1vdmVPZmZzZXRZID0gZS50b3VjaGVzWzBdLnBhZ2VZOwogICAgICB2YXIgb2Zmc2V0WSA9ICh0aGlzLm1vdmVPZmZzZXRZIC0gdGhpcy5iZWdpbk9mZnNldFkpIC8gZS50YXJnZXQub2Zmc2V0SGVpZ2h0OwogICAgICB2YXIgaW5kZXggPSBwYXJzZUludChlLnRhcmdldC5kYXRhc2V0LmluZGV4KSArIE1hdGguZmxvb3Iob2Zmc2V0WSk7CgogICAgICBpZiAoaW5kZXggPCAwKSB7CiAgICAgICAgaW5kZXggPSAwOwogICAgICB9IGVsc2UgaWYgKGluZGV4ID4gdGhpcy5rZXlzLmxlbmd0aCAtIDEpIHsKICAgICAgICBpbmRleCA9IHRoaXMua2V5cy5sZW5ndGggLSAxOwogICAgICB9CgogICAgICB0aGlzLl9rZXlEb3duKGluZGV4KTsKICAgIH0sCiAgICBnb3RvU2luZ2VyOiBmdW5jdGlvbiBnb3RvU2luZ2VyKGlkKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvc2luZ2VyL2RldGFpbC8iLmNvbmNhdChpZCwgIi9zaW5nZXIiKSk7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgbGlzdDogZnVuY3Rpb24gbGlzdChuZXdWYWx1ZSwgb2xkVmFsdWUpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICAvLyB3YXRjaCDlj6rog73nm5HlkKzlsZ7mgKflgLzlj5jljJbvvIzkuI3og73nm5HlkKzpobXpnaLmmK/lkKblt7Lnu4/muLLmn5PlrozmiJDvvIzpnIDopoHlnKhuZXh0VGlja++8jOaJjeiDveaNleaNieWIsOmhtemdoueahOa4suafk+e7k+aenAogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMzLiRyZWZzLmdyb3VwLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIF90aGlzMy5ncm91cFRvcHMucHVzaChpdGVtLm9mZnNldFRvcCk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGZpeFRpdGxlOiBmdW5jdGlvbiBmaXhUaXRsZSgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM0LmZpeFRpdGxlSGVpZ2h0ID0gX3RoaXM0LiRyZWZzLmZpeFRpdGxlLm9mZnNldEhlaWdodDsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Singer.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"singer\">\n    <ScrollView ref=\"scrollView\">\n      <ul class=\"list-warpper\">\n        <li\n          class=\"list-group\"\n          v-for=\"(value, index) in keys\"\n          :key=\"index\"\n          ref=\"group\"\n        >\n          <h3 class=\"group-title\">{{ value }}</h3>\n          <ul>\n            <li class=\"group-item\" v-for=\"obj in list[index]\" :key=\"obj.id\" @click=\"gotoSinger(obj.id)\">\n              <img v-lazy=\"obj.img1v1Url\" alt=\"\" />\n              <p>{{ obj.name }}</p>\n            </li>\n          </ul>\n        </li>\n      </ul>\n    </ScrollView>\n    <ul class=\"list-key\">\n      <li\n        v-for=\"(value, index) in keys\"\n        :key=\"index\"\n        :class=\"{ active: currentIndex === index }\"\n        @touchstart.stop.prevent=\"touchstart\"\n        @touchmove.stop.prevent=\"touchmove\"\n        :data-index=\"index\"\n      >\n        {{ value }}\n      </li>\n    </ul>\n    <div class=\"fix-title\" v-show=\"fixTitle !== ''\" ref=\"fixTitle\">{{fixTitle}}</div>\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\nimport { getAllArtists } from \"../api/index\";\nimport ScrollView from \"../components/ScrollView\";\nimport Vue from 'vue'\n\nexport default {\n  name: \"Singer\",\n  data() {\n    return {\n      keys: [],\n      list: [],\n      groupTops: [],\n      // 当前选中的字母序号\n      currentIndex: 0,\n      beginOffsetY: 0,\n      moveOffsetY: 0,\n      scrollY: 0,    // 当前滚动的偏移位\n      fixTitleHeight: 0,\n    };\n  },\n  components: {\n    ScrollView\n  },\n\n  created() {\n    Vue.showLoading()\n    getAllArtists()\n      .then(result => {\n        Vue.hiddenLoading()\n        this.keys = result.keys\n        this.list = result.list\n      })\n      .catch(err => {\n        Vue.hiddenLoading()\n        console.log(err)\n      })\n  },\n\n  computed: {\n    fixTitle () {\n      if (this.scrollY >= 0) {\n        return ''\n      } else {\n        return this.keys[this.currentIndex]\n      }\n    }\n  },\n\n  mounted() {\n    this.$refs.scrollView.scrolling((y) => {\n      this.scrollY = y\n      if (y >= 0) {\n        this.currentIndex = 0\n        return\n      }\n\n      for (let i = 0; i < this.groupTops.length; i++) {\n        let preTop = this.groupTops[i]\n        let nextTop = this.groupTops[i+1]\n        if (-y > preTop && -y <= nextTop) {\n          this.currentIndex = i\n          // 用下一组标题的偏移位 + 当前滚出去的偏移位\n          let diffOffsetY = nextTop + y\n          let fixTitleOffsetY = 0\n          if (diffOffsetY > 0 && diffOffsetY <= this.fixTitleHeight) {\n            fixTitleOffsetY = diffOffsetY - this.fixTitleHeight\n          } else {\n            fixTitleOffsetY = 0\n          }\n          if (fixTitleOffsetY === this.fixTitleOffsetY) {\n            return\n          }\n          this.fixTitleOffsetY = fixTitleOffsetY\n          this.$refs.fixTitle.style.transform = `translateY(${fixTitleOffsetY}px)`\n          return\n        }\n      }\n      // 处理最后一个区域\n      this.currentIndex = this.groupTops.length - 1\n    })\n  },\n\n  methods: {\n    _keyDown(index) {\n      let offsetY = this.groupTops[index];\n      this.$refs.scrollView.scrollTo(0, -offsetY, 200);\n      this.currentIndex = index;\n    },\n\n    touchstart (e) {\n      // console.log(e.target.dataset.index);\n      let index = parseInt(e.target.dataset.index)\n      this._keyDown(index)\n      this.beginOffsetY = e.touches[0].pageY\n    },\n\n    touchmove (e) {\n      this.moveOffsetY = e.touches[0].pageY\n      let offsetY = (this.moveOffsetY - this.beginOffsetY) / e.target.offsetHeight\n      let index = parseInt(e.target.dataset.index) + Math.floor(offsetY)\n      if (index < 0) {\n        index = 0\n      } else if (index > this.keys.length - 1) {\n        index = this.keys.length - 1\n      }\n      this._keyDown(index)\n    },\n\n    gotoSinger(id) {\n      this.$router.push(`/singer/detail/${id}/singer`)\n    }\n  },\n\n  watch: {\n    list(newValue, oldValue) {\n      // watch 只能监听属性值变化，不能监听页面是否已经渲染完成，需要在nextTick，才能捕捉到页面的渲染结果\n      this.$nextTick(() => {\n        this.$refs.group.forEach(item => {\n          this.groupTops.push(item.offsetTop);\n        });\n      });\n    },\n\n    fixTitle () {\n      this.$nextTick(() => {\n        this.fixTitleHeight = this.$refs.fixTitle.offsetHeight\n      })\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../assets/css/variable\";\n@import \"../assets/css/mixin\";\n\n.singer {\n  position: fixed;\n  left: 0;\n  top: 184px;\n  bottom: 0;\n  right: 0;\n  overflow: hidden;\n  @include bg_sub_color();\n  .list-warpper {\n    .list-group {\n      .group-title {\n        @include bg_color();\n        @include font_size($font_medium);\n        padding: 10px 20px;\n        box-sizing: border-box;\n        color: white;\n      }\n      .group-item {\n        display: flex;\n        justify-content: flex-start;\n        border-bottom: 1px solid #ccc;\n        padding: 10px 20px;\n        img {\n          width: 100px;\n          height: 100px;\n          border-radius: 50%;\n          overflow: hidden;\n        }\n        p {\n          display: flex;\n          align-items: center;\n          margin-left: 20px;\n          @include font_color();\n          @include font_size($font_medium);\n        }\n      }\n    }\n  }\n\n  .list-key {\n    position: fixed;\n    right: 0;\n    top: 60%;\n    transform: translateY(-60%);\n    li {\n      @include font_size($font_medium_s);\n      @include font_color();\n      padding: 2px 2px;\n      &.active {\n        text-shadow: 0 0 10px #000;\n      }\n    }\n  }\n  .fix-title {\n    position: absolute;\n    left: 0;\n    top: 0;\n    right: 0;\n    padding: 10px 20px;\n    box-sizing: border-box;\n    color: white;\n    @include font_size($font_medium);\n    @include bg_color();\n  }\n}\n</style>\n"],"sourceRoot":"src/views"}]}