{"remainingRequest":"/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/node_modules/babel-loader/lib/index.js!/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/src/views/Detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/src/views/Detail.vue","mtime":1586252839066},{"path":"/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/node_modules/cache-loader/dist/cjs.js","mtime":1584931130054},{"path":"/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/node_modules/babel-loader/lib/index.js","mtime":1584931129970},{"path":"/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/node_modules/cache-loader/dist/cjs.js","mtime":1584931130054},{"path":"/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/node_modules/vue-loader/lib/index.js","mtime":1584931133236}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBTdWJIZWFkZXIgZnJvbSAiLi4vY29tcG9uZW50cy9kZXRhaWwvU3ViSGVhZGVyIjsKaW1wb3J0IERldGFpbFRvcCBmcm9tICIuLi9jb21wb25lbnRzL2RldGFpbC9EZXRhaWxUb3AiOwppbXBvcnQgRGV0YWlsQm90dG9tIGZyb20gIi4uL2NvbXBvbmVudHMvZGV0YWlsL0RldGFpbEJvdHRvbSI7CmltcG9ydCBTY3JvbGxWaWV3IGZyb20gIi4uL2NvbXBvbmVudHMvU2Nyb2xsVmlldyI7CmltcG9ydCB7IGdldFBsYXlMaXN0LCBnZXRBbGJ1bURldGFpbCwgZ2V0QXJ0aXN0c0RldGFpbCwgZ2V0VG9wTGlzdCB9IGZyb20gIi4uL2FwaS9pbmRleCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiRGV0YWlsIiwKICBjb21wb25lbnRzOiB7CiAgICBTdWJIZWFkZXI6IFN1YkhlYWRlciwKICAgIERldGFpbFRvcDogRGV0YWlsVG9wLAogICAgRGV0YWlsQm90dG9tOiBEZXRhaWxCb3R0b20sCiAgICBTY3JvbGxWaWV3OiBTY3JvbGxWaWV3CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGxheWxpc3Q6IHt9CiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy50eXBlID09PSAicGVyc29uYWxpemVkIikgewogICAgICAvLyDojrflj5bmrYzljZXor6bmg4UKICAgICAgZ2V0UGxheUxpc3QoewogICAgICAgIGlkOiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQKICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIF90aGlzLnBsYXlsaXN0ID0gZGF0YS5wbGF5bGlzdDsKICAgICAgfSlbImNhdGNoIl0oZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0gZWxzZSBpZiAodGhpcy4kcm91dGUucGFyYW1zLnR5cGUgPT09ICJhbGJ1bSIpIHsKICAgICAgLy8g6I635Y+W5LiT6L6R6K+m5oOFCiAgICAgIGdldEFsYnVtRGV0YWlsKHsKICAgICAgICBpZDogdGhpcy4kcm91dGUucGFyYW1zLmlkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICBfdGhpcy5wbGF5bGlzdCA9IHsKICAgICAgICAgIG5hbWU6IGRhdGEuYWxidW0ubmFtZSwKICAgICAgICAgIGNvdmVySW1nVXJsOiBkYXRhLmFsYnVtLnBpY1VybCwKICAgICAgICAgIHRyYWNrczogZGF0YS5zb25ncwogICAgICAgIH07CiAgICAgIH0pWyJjYXRjaCJdKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9IGVsc2UgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy50eXBlID09PSAnc2luZ2VyJykgewogICAgICAvLyDmrYzmiYvmrYzljZXor6bmg4UKICAgICAgZ2V0QXJ0aXN0c0RldGFpbCh7CiAgICAgICAgaWQ6IHRoaXMuJHJvdXRlLnBhcmFtcy5pZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgX3RoaXMucGxheWxpc3QgPSB7CiAgICAgICAgICBuYW1lOiBkYXRhLmFydGlzdC5uYW1lLAogICAgICAgICAgY292ZXJJbWdVcmw6IGRhdGEuYXJ0aXN0LnBpY1VybCwKICAgICAgICAgIHRyYWNrczogZGF0YS5ob3RTb25ncwogICAgICAgIH07CiAgICAgIH0pWyJjYXRjaCJdKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9IGVsc2UgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy50eXBlID09PSAncmFuaycpIHsKICAgICAgLy8g5o6S6KGM5qac5q2M5Y2V6K+m5oOFCiAgICAgIGdldFRvcExpc3QoewogICAgICAgIGlkeDogdGhpcy4kcm91dGUucGFyYW1zLmlkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICBfdGhpcy5wbGF5bGlzdCA9IHsKICAgICAgICAgIG5hbWU6IGRhdGEucGxheWxpc3QubmFtZSwKICAgICAgICAgIGNvdmVySW1nVXJsOiBkYXRhLnBsYXlsaXN0LmNyZWF0b3IuYmFja2dyb3VuZFVybCwKICAgICAgICAgIHRyYWNrczogZGF0YS5wbGF5bGlzdC50cmFja3MKICAgICAgICB9OwogICAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgIHZhciBkZWZhdWx0SGVpZ2h0ID0gdGhpcy4kcmVmcy5oZWFkZXJJbWcuJGVsLm9mZnNldEhlaWdodDsKICAgIHRoaXMuJHJlZnMuc2Nyb2xsdmlldy5zY3JvbGxpbmcoZnVuY3Rpb24gKG9mZnNldFkpIHsKICAgICAgaWYgKG9mZnNldFkgPCAwKSB7CiAgICAgICAgdmFyIG9wYWNpdHkgPSBNYXRoLmFicyhvZmZzZXRZKSAvIGRlZmF1bHRIZWlnaHQ7IC8vIOmrmOaWr+aooeeziuWcqOenu+WKqOerr+mdnuW4uOa2iOiAl+aAp+iDve+8jOS4jeW7uuiuruWcqOenu+WKqOerr+S9v+eUqAogICAgICAgIC8vIHRoaXMuJHJlZnMuaGVhZGVySW1nLiRlbC5zdHlsZS5maWx0ZXIgPSBgYmx1cigke2JsdXJ9cHgpYDsKCiAgICAgICAgX3RoaXMyLiRyZWZzLmhlYWRlckltZy5jaGFuZ2VNYXNrQWxwaGEob3BhY2l0eSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHNjYWxlID0gMSArIG9mZnNldFkgLyBkZWZhdWx0SGVpZ2h0OwogICAgICAgIF90aGlzMi4kcmVmcy5oZWFkZXJJbWcuJGVsLnN0eWxlLnRyYW5zZm9ybSA9ICJzY2FsZSgiLmNvbmNhdChzY2FsZSwgIikiKTsKICAgICAgfQogICAgfSk7CiAgfQp9Ow=="},{"version":3,"sources":["Detail.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"detail\">\n    <SubHeader :title=\"playlist.name\"></SubHeader>\n    <DetailTop :path=\"playlist.coverImgUrl\" ref=\"headerImg\"></DetailTop>\n    <div class=\"bottom\">\n      <ScrollView ref=\"scrollview\">\n        <DetailBottom :playlist=\"playlist.tracks\"></DetailBottom>\n      </ScrollView>\n    </div>\n  </div>\n</template>\n\n<script>\nimport SubHeader from \"../components/detail/SubHeader\";\nimport DetailTop from \"../components/detail/DetailTop\";\nimport DetailBottom from \"../components/detail/DetailBottom\";\nimport ScrollView from \"../components/ScrollView\";\nimport { getPlayList, getAlbumDetail, getArtistsDetail, getTopList } from \"../api/index\";\n\nexport default {\n  name: \"Detail\",\n  components: {\n    SubHeader,\n    DetailTop,\n    DetailBottom,\n    ScrollView\n  },\n  data() {\n    return {\n      playlist: {}\n    };\n  },\n\n  created() {\n    if (this.$route.params.type === \"personalized\") {\n      // 获取歌单详情\n      getPlayList({ id: this.$route.params.id })\n        .then(data => {\n          this.playlist = data.playlist;\n        })\n        .catch(error => {\n          console.log(error);\n        });\n\n    } else if (this.$route.params.type === \"album\") {\n      // 获取专辑详情\n      getAlbumDetail({ id: this.$route.params.id })\n        .then(data => {\n          this.playlist = {\n            name: data.album.name,\n            coverImgUrl: data.album.picUrl,\n            tracks: data.songs\n          }\n        })\n        .catch(error => {\n          console.log(error);\n        });\n    } else if (this.$route.params.type === 'singer') {\n      // 歌手歌单详情\n      getArtistsDetail({id: this.$route.params.id})\n      .then(data => {\n           this.playlist = {\n            name: data.artist.name,\n            coverImgUrl: data.artist.picUrl,\n            tracks: data.hotSongs\n          }\n      })\n      .catch(error => {\n        console.log(error)\n      })\n    } else if (this.$route.params.type === 'rank') {\n      // 排行榜歌单详情\n      getTopList({idx: this.$route.params.id})\n      .then(data => {\n           this.playlist = {\n            name: data.playlist.name,\n            coverImgUrl: data.playlist.creator.backgroundUrl,\n            tracks: data.playlist.tracks\n          }\n      })\n      .catch(error => {\n        console.log(error)\n      })\n    }\n  },\n\n  mounted() {\n    let defaultHeight = this.$refs.headerImg.$el.offsetHeight;\n    this.$refs.scrollview.scrolling(offsetY => {\n      if (offsetY < 0) {\n        let opacity =  Math.abs(offsetY) / defaultHeight;\n        // 高斯模糊在移动端非常消耗性能，不建议在移动端使用\n        // this.$refs.headerImg.$el.style.filter = `blur(${blur}px)`;\n        this.$refs.headerImg.changeMaskAlpha(opacity)\n      } else {\n        let scale = 1 + offsetY / defaultHeight;\n        this.$refs.headerImg.$el.style.transform = `scale(${scale})`;\n      }\n    });\n  }\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import \"../assets/css/mixin\";\n\n.detail {\n  @include bg_sub_color();\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  .bottom {\n    position: fixed;\n    top: 500px;\n    left: 0;\n    right: 0;\n    bottom: 0;\n  }\n}\n</style>\n"],"sourceRoot":"src/views"}]}