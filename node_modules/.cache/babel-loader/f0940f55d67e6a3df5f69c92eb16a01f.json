{"remainingRequest":"/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/node_modules/babel-loader/lib/index.js!/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/src/components/player/ListPlayer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/src/components/player/ListPlayer.vue","mtime":1585533291939},{"path":"/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/node_modules/cache-loader/dist/cjs.js","mtime":1584931130054},{"path":"/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/node_modules/babel-loader/lib/index.js","mtime":1584931129970},{"path":"/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/node_modules/cache-loader/dist/cjs.js","mtime":1584931130054},{"path":"/Users/Maxb/Desktop/HTML5/Vue学习/day-004/myVueLearn/node_modules/vue-loader/lib/index.js","mtime":1584931133236}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9Vc2Vycy9NYXhiL0Rlc2t0b3AvSFRNTDUvVnVlXHU1QjY2XHU0RTYwL2RheS0wMDQvbXlWdWVMZWFybi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBTY3JvbGxWaWV3IGZyb20gIi4uLy4uL2NvbXBvbmVudHMvU2Nyb2xsVmlldyI7CmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IG1vZGUgZnJvbSAnLi4vLi4vc3RvcmUvbW9kZVR5cGUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkxpc3RQbGF5ZXIiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtb2RlVGV4dDogJ+mhuuW6j+aSreaUvicKICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyhbImlzUGxheWluZyIsICJtb2RlVHlwZSIsICdpc1Nob3dMaXN0UGxheWVyJywgJ3NvbmdzJywgJ2N1cnJlbnRJbmRleCcsICdmYXZvcml0ZUxpc3QnXSkpLAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoe30sIG1hcEFjdGlvbnMoWyJzZXRJc1BsYXlpbmciLCAic2V0TW9kZVR5cGUiLCAnc2V0TGlzdFBsYXllcicsICdzZXREZWxTb25nJywgJ3NldEN1cnJlbnRJbmRleCcsICdzZXRGYXZvcml0ZVNvbmcnXSksIHsKICAgIGhpZGRlbjogZnVuY3Rpb24gaGlkZGVuKCkgewogICAgICB0aGlzLnNldExpc3RQbGF5ZXIoZmFsc2UpOwogICAgfSwKICAgIC8vIOWFpeWcuuWKqOeUuwogICAgZW50ZXI6IGZ1bmN0aW9uIGVudGVyKGVsLCBkb25lKSB7CiAgICAgIFZlbG9jaXR5KGVsLCAidHJhbnNpdGlvbi5zbGlkZVJpZ2h0SW4iLCB7CiAgICAgICAgZHVyYXRpb246IDMwMAogICAgICB9LCBmdW5jdGlvbiAoKSB7CiAgICAgICAgZG9uZSgpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDnprvlvIDliqjnlLsKICAgIGxlYXZlOiBmdW5jdGlvbiBsZWF2ZShlbCwgZG9uZSkgewogICAgICBWZWxvY2l0eShlbCwgInRyYW5zaXRpb24uc2xpZGVSaWdodE91dCIsIHsKICAgICAgICBkdXJhdGlvbjogMzAwCiAgICAgIH0sIGZ1bmN0aW9uICgpIHsKICAgICAgICBkb25lKCk7CiAgICAgIH0pOwogICAgfSwKICAgIHBsYXk6IGZ1bmN0aW9uIHBsYXkoKSB7CiAgICAgIHRoaXMuc2V0SXNQbGF5aW5nKCF0aGlzLmlzUGxheWluZyk7CiAgICB9LAogICAgc2V0TW9kZTogZnVuY3Rpb24gc2V0TW9kZSgpIHsKICAgICAgaWYgKHRoaXMubW9kZVR5cGUgPT09IG1vZGUubG9vcCkgewogICAgICAgIHRoaXMuc2V0TW9kZVR5cGUobW9kZS5vbmUpOwogICAgICB9IGVsc2UgaWYgKHRoaXMubW9kZVR5cGUgPT09IG1vZGUub25lKSB7CiAgICAgICAgdGhpcy5zZXRNb2RlVHlwZShtb2RlLnJhbmRvbSk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5tb2RlVHlwZSA9PT0gbW9kZS5yYW5kb20pIHsKICAgICAgICB0aGlzLnNldE1vZGVUeXBlKG1vZGUubG9vcCk7CiAgICAgIH0KICAgIH0sCiAgICBkZWw6IGZ1bmN0aW9uIGRlbChpbmRleCkgewogICAgICB0aGlzLnNldERlbFNvbmcoaW5kZXgpOwogICAgfSwKICAgIGRlbEFsbDogZnVuY3Rpb24gZGVsQWxsKCkgewogICAgICB0aGlzLnNldERlbFNvbmcoKTsKICAgIH0sCiAgICBzZWxlY3RNdXNpYzogZnVuY3Rpb24gc2VsZWN0TXVzaWMoaW5kZXgpIHsKICAgICAgdGhpcy5zZXRDdXJyZW50SW5kZXgoaW5kZXgpOwogICAgfSwKICAgIGZhdm9yaXRlOiBmdW5jdGlvbiBmYXZvcml0ZSh2YWx1ZSkgewogICAgICB0aGlzLnNldEZhdm9yaXRlU29uZyh2YWx1ZSk7CiAgICB9LAogICAgaXNGYXZvcml0ZTogZnVuY3Rpb24gaXNGYXZvcml0ZSh2YWx1ZSkgewogICAgICB2YXIgcmVzdWx0ID0gdGhpcy5mYXZvcml0ZUxpc3QuZmluZChmdW5jdGlvbiAoY3VyU29uZykgewogICAgICAgIHJldHVybiBjdXJTb25nLmlkID09PSB2YWx1ZS5pZDsKICAgICAgfSk7CiAgICAgIHJldHVybiByZXN1bHQgIT09IHVuZGVmaW5lZDsKICAgIH0KICB9KSwKICBjb21wb25lbnRzOiB7CiAgICBTY3JvbGxWaWV3OiBTY3JvbGxWaWV3CiAgfSwKICB3YXRjaDogewogICAgaXNQbGF5aW5nOiBmdW5jdGlvbiBpc1BsYXlpbmcobmV3VmFsdWUsIG9sZFZhbHVlKSB7CiAgICAgIGlmIChuZXdWYWx1ZSkgewogICAgICAgIHRoaXMuJHJlZnMucGxheS5jbGFzc0xpc3QuYWRkKCJhY3RpdmUiKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRyZWZzLnBsYXkuY2xhc3NMaXN0LnJlbW92ZSgiYWN0aXZlIik7CiAgICAgIH0KICAgIH0sCiAgICBtb2RlVHlwZTogZnVuY3Rpb24gbW9kZVR5cGUobmV3VmFsdWUsIG9sZFZhbHVlKSB7CiAgICAgIHRoaXMuJHJlZnMubW9kZS5jbGFzc0xpc3QucmVtb3ZlKCJsb29wIik7CiAgICAgIHRoaXMuJHJlZnMubW9kZS5jbGFzc0xpc3QucmVtb3ZlKCJvbmUiKTsKICAgICAgdGhpcy4kcmVmcy5tb2RlLmNsYXNzTGlzdC5yZW1vdmUoInJhbmRvbSIpOwoKICAgICAgaWYgKG5ld1ZhbHVlID09PSBtb2RlLmxvb3ApIHsKICAgICAgICB0aGlzLiRyZWZzLm1vZGUuY2xhc3NMaXN0LmFkZCgibG9vcCIpOwogICAgICAgIHRoaXMubW9kZVRleHQgPSAn5b6q546v5pKt5pS+JzsKICAgICAgfSBlbHNlIGlmIChuZXdWYWx1ZSA9PT0gbW9kZS5vbmUpIHsKICAgICAgICB0aGlzLiRyZWZzLm1vZGUuY2xhc3NMaXN0LmFkZCgib25lIik7CiAgICAgICAgdGhpcy5tb2RlVGV4dCA9ICfljZXmm7Llvqrnjq8nOwogICAgICB9IGVsc2UgaWYgKG5ld1ZhbHVlID09PSBtb2RlLnJhbmRvbSkgewogICAgICAgIHRoaXMuJHJlZnMubW9kZS5jbGFzc0xpc3QuYWRkKCJyYW5kb20iKTsKICAgICAgICB0aGlzLm1vZGVUZXh0ID0gJ+maj+acuuaSreaUvic7CiAgICAgIH0KICAgIH0sCiAgICBpc1Nob3dMaXN0UGxheWVyOiBmdW5jdGlvbiBpc1Nob3dMaXN0UGxheWVyKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgewogICAgICB0aGlzLiRyZWZzLnNjcm9sbFZpZXcucmVmcmVzaCgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["ListPlayer.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <transition :css=\"false\" @enter=\"enter\" @leave=\"leave\">\n    <div class=\"list-player\" v-show=\"isShowListPlayer\">\n      <div class=\"player-wrapper\">\n        <div class=\"player-top\">\n          <div class=\"top-left\">\n            <div class=\"mode loop\" @click=\"setMode\" ref=\"mode\"></div>\n            <p>{{modeText}}</p>\n          </div>\n          <div class=\"top-right\">\n            <div class=\"del\" @click=\"delAll\"></div>\n          </div>\n        </div>\n        <div class=\"player-middle\">\n          <ScrollView ref=\"scrollView\">\n            <ul ref=\"play\">\n              <li class=\"item\" v-for=\"(value, index) in songs\" :key=\"value.id\" @click=\"selectMusic(index)\">\n                <div class=\"item-left\">\n                  <div class=\"item-play\" @click.stop=\"play\" v-show=\"currentIndex === index\"></div>\n                  <p>{{value.name}}</p>\n                </div>\n                <div class=\"item-right\">\n                  <div class=\"item-favorite\" @click.stop=\"favorite(value)\" :class=\"{'active' : isFavorite(value)}\"></div>\n                  <div class=\"item-del\" @click.stop=\"del(index)\"></div>\n                </div>\n              </li>\n            </ul>\n          </ScrollView>\n        </div>\n        <div class=\"player-bottom\">\n          <p @click=\"hidden\">关闭</p>\n        </div>\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script>\nimport ScrollView from \"../../components/ScrollView\";\nimport { mapActions, mapGetters } from \"vuex\";\nimport mode from '../../store/modeType'\n\nexport default {\n  name: \"ListPlayer\",\n  data() {\n    return {\n      modeText: '顺序播放',\n    };\n  },\n   computed: {\n    ...mapGetters([\n        \"isPlaying\", \n        \"modeType\", \n        'isShowListPlayer', \n        'songs', \n        'currentIndex',\n        'favoriteList'\n        ])\n  },\n\n  methods: {\n    ...mapActions([\n        \"setIsPlaying\", \n        \"setModeType\", \n        'setListPlayer', \n        'setDelSong',\n        'setCurrentIndex',\n        'setFavoriteSong'\n        ]),\n\n    hidden() {\n      this.setListPlayer(false);\n    },\n    // 入场动画\n    enter(el, done) {\n      Velocity(el, \"transition.slideRightIn\", { duration: 300 }, function() {\n        done();\n      });\n    },\n    // 离开动画\n    leave(el, done) {\n      Velocity(\n        el,\n        \"transition.slideRightOut\",\n        { duration: 300 },\n        function() {\n          done();\n        }\n      );\n    },\n\n    play() {\n      this.setIsPlaying(!this.isPlaying);\n    },\n\n    setMode() {\n      if (this.modeType === mode.loop) {\n        this.setModeType(mode.one);\n      } else if (this.modeType === mode.one) {\n        this.setModeType(mode.random);\n      } else if (this.modeType === mode.random) {\n        this.setModeType(mode.loop);\n      }\n    },\n\n    del(index) {\n      this.setDelSong(index)\n    },\n\n    delAll () {\n       this.setDelSong()\n    },\n\n    selectMusic(index) {\n        this.setCurrentIndex(index)\n    },\n\n    favorite (value) {\n        this.setFavoriteSong(value)\n    },\n\n    isFavorite (value) {\n        let result = this.favoriteList.find(curSong => {\n            return curSong.id === value.id\n        })\n        return result !== undefined\n    }\n  },\n  components: {\n    ScrollView\n  },\n\n  watch: {\n    isPlaying(newValue, oldValue) {\n      if (newValue) {\n        this.$refs.play.classList.add(\"active\");\n      } else {\n        this.$refs.play.classList.remove(\"active\");\n      }\n    },\n    modeType(newValue, oldValue) {\n      this.$refs.mode.classList.remove(\"loop\");\n      this.$refs.mode.classList.remove(\"one\");\n      this.$refs.mode.classList.remove(\"random\");\n      if (newValue === mode.loop) {\n        this.$refs.mode.classList.add(\"loop\");\n        this.modeText = '循环播放'\n      } else if (newValue === mode.one) {\n        this.$refs.mode.classList.add(\"one\");\n        this.modeText = '单曲循环'\n      } else if (newValue === mode.random) {\n        this.$refs.mode.classList.add(\"random\");\n        this.modeText = '随机播放'\n      }\n    },\n\n    isShowListPlayer(newValue, oldValue) {\n        this.$refs.scrollView.refresh()\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../../assets/css/mixin\";\n@import \"../../assets/css/variable\";\n\n.list-player {\n  position: fixed;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  @include bg_sub_color();\n  .player-top {\n    width: 100%;\n    height: 100px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    .top-left {\n      display: flex;\n      align-items: center;\n      padding-left: 20px;\n      .mode {\n        width: 56px;\n        height: 56px;\n        margin-right: 20px;\n        &.loop {\n          @include bg_img(\"../../assets/images/small_loop\");\n        }\n        &.one {\n          @include bg_img(\"../../assets/images/small_one\");\n        }\n        &.random {\n          @include bg_img(\"../../assets/images/small_shuffle\");\n        }\n        \n      }\n      p {\n        @include font_color();\n        @include font_size($font_medium_s);\n      }\n    }\n    .top-right {\n      .del {\n        width: 84px;\n        height: 84px;\n        @include bg_img(\"../../assets/images/small_del\");\n      }\n    }\n  }\n  .player-middle {\n      height: 700px;\n      overflow: hidden;\n      ul {\n          &.active {\n              .item {\n                .item-play {\n                    @include bg_img(\"../../assets/images/small_pause\");\n                }\n              }\n          }\n      }\n    .item {\n      border-top: 1px solid #ccc;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 0 20px;\n      box-sizing: border-box;\n      height: 100px;\n      .item-left {\n        display: flex;\n        align-items: center;\n        .item-play {\n          width: 56px;\n          height: 56px;\n          @include bg_img(\"../../assets/images/small_play\");\n        }\n        p {\n          @include font_color();\n          @include font_size($font_medium_s);\n          @include no_wrap();\n          margin-left: 20px;\n        }\n      }\n      .item-right {\n        display: flex;\n        align-items: center;\n        .item-favorite {\n          width: 56px;\n          height: 56px;\n          @include bg_img(\"../../assets/images/small_un_favorite\");\n          &.active {\n            @include bg_img(\"../../assets/images/small_favorite\");\n          }\n        }\n        .item-del {\n          width: 52px;\n          height: 52px;\n          margin-left: 20px;\n          @include bg_img(\"../../assets/images/small_close\");\n        }\n      }\n    }\n  }\n  .player-bottom {\n    width: 100%;\n    height: 100px;\n    line-height: 100px;\n    @include bg_color();\n    p {\n      text-align: center;\n      color: white;\n      @include font_size($font_medium);\n    }\n  }\n}\n</style>\n"],"sourceRoot":"src/components/player"}]}